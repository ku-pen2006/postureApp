//
//  HomeView.swift
//  postureApp
//
//  Created by ğŸ£ on 2025/09/13.
//

import SwiftUI

struct HomeView: View {
    @State private var message = "ã“ã‚“ã«ã¡ã¯ï¼ä»Šæ—¥ã‚‚å§¿å‹¢ã«æ°—ã‚’ã¤ã‘ã‚ˆã†ï¼"
    
    // ãƒ©ãƒ³ãƒ€ãƒ ã§åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚»ãƒªãƒ•
    private let messages = [
<<<<<<< HEAD
        "èƒŒç­‹ã‚’ä¼¸ã°ã—ã¦ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ï¼",
        "ã¡ã‚‡ã£ã¨è‚©ã‚’å›ã—ã¦ã¿ãªã„ï¼Ÿ",
        "ãŠæ°´ã‚’é£²ã‚“ã§ã²ã¨ä¼‘ã¿ã—ã‚ˆã†ï¼",
        "ã„ã„å§¿å‹¢ã€ã‹ã£ã“ã„ã„ã‚ˆï¼",
        "ä»Šæ—¥ã®å¾©ç¿’ã¯ã§ããŸã‹ï¼Ÿã‚µãƒœã‚‰ã‚“ã¨ãŒã‚“ã°ã‚Šã‚„ï¼"
=======
        "èƒŒç­‹ãƒ”ãƒ³ã¨ä¼¸ã°ã—ãŸã‚‰ã€ã‚ã£ã¡ã‚ƒã‚¹ãƒƒã‚­ãƒªã™ã‚‹ã§ï¼",
            "ã¡ã‚‡ã£ã¨è‚©å›ã—ãŸã‚‰ã€æ°—æŒã¡ãˆãˆã‚„ã‚ï¼Ÿ",
            "æ°´é£²ã‚“ã§ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã›ãªã‚ã‹ã‚“ã§ï¼",
            "ãã®å§¿å‹¢ã€ã»ã‚“ã¾ã‹ã£ã“ãˆãˆã§ï¼",
            "æ·±å‘¼å¸ã—ã¦ã¿ãƒã€æ¥½ã«ãªã‚‹ã§ã€œ",
            "ç«‹ã£ã¦ä¼¸ã³ã—ãŸã‚‰è¡€ã®å·¡ã‚Šã‚ˆã…ãªã‚‹ã§ï¼",
            "ç›®ã‡ä¼‘ã‚ã‚‹ã‚“ã‚‚å¤§äº‹ã‚„ã§ï¼",
            "ã¡ã‚‡ã£ã¨èƒŒä¸­å‹•ã‹ã—ã¦ã¿ãƒã€ã‚¹ãƒƒã‚­ãƒªã™ã‚‹ã‚ï¼",
          

            // å’Œæ­Œå±±å¼
            "èƒŒã‡ä¼¸ã°ã—ãŸã‚‰ã‚¹ãƒƒã¨æ¥½ã«ãªã‚‹ã§ï¼",
            "è‚©ãã‚‹ãã‚‹å›ã—ã¦ã¿ãƒã‚ˆã€ã ã„ã¶é•ã†ã§ã€‚",
            "ã¡ã‚‡ã£ã¨æ°´ã§ã‚‚é£²ã‚“ã§ä¼‘ã¿ã‚„ã€œ",
            "ãˆãˆå§¿å‹¢ã—ã¨ã‚‹ã¨ã»ã‚“ã¾è¦‹æ „ãˆã™ã‚‹ã§ï¼",
            "æ·±å‘¼å¸ã—ã¦æ°—åˆ†å¤‰ãˆã‚ˆã‹ã€œ",
            "è…°ä¼¸ã°ã—ã¦ãƒªã‚»ãƒƒãƒˆã—ã‚ˆã‚‰ï¼",
      

            // åºƒå³¶å¼
            "èƒŒç­‹ãƒ”ãƒ³ã¨ä¼¸ã°ã—ãŸã‚‰ã€ãˆãˆæ„Ÿã˜ã˜ã‚ƒã‘ã‡ï¼",
            "è‚©ãã‚‹ãã‚‹å›ã—ã¦ã¿ã‚“ã•ã„ã€ã™ã£ãã‚Šã™ã‚‹ã‚ˆã€‚",
            "æ°´é£²ã‚“ã§ä¼‘æ†©ã›ã‚“ã¨ã„ã‘ã‚“ã‚ˆã€œ",
            "å§¿å‹¢ã‚ˆã†ã—ã¨ã‚‹ã¨ã€ã‹ã£ã“ãˆãˆã‘ã‡ï¼",
            "æ·±å‘¼å¸ã—ã¦æ°—æŒã¡åˆ‡ã‚Šæ›¿ãˆã‚“ã•ã„ã€‚",
            "è…°ä¼¸ã°ã—ãŸã‚‰ã€èº«ä½“ãŒå–œã¶ã‘ã‡ï¼",
            "ç›®ã‡ä¼‘ã‚ã‚“ã¨ç–²ã‚Œã‚‹ã‘ã‚“ã­ã€‚",
            "èƒŒä¸­å‹•ã‹ã—ã¦ã€ã¡ãƒã¨ãƒªã‚»ãƒƒãƒˆã—ã‚“ã•ã„ã€‚",
         

            // åšå¤šå¼
            "èƒŒç­‹ä¼¸ã°ã—ãŸã‚‰ã€ã‚·ãƒ£ã‚­ãƒƒã¨ã™ã£ã°ã„ï¼",
            "è‚©ãã‚‹ã£ã¨å›ã—ãŸã‚‰æ°—æŒã¡ã‚ˆã‹ã‚ˆã€œ",
            "æ°´ã°é£²ã‚“ã§ã²ã¨æ¯ã¤ãã‚“ã—ã‚ƒã„ï¼",
            "å§¿å‹¢ãŒã‚ˆã‹ã¨ã€ã»ã‚“ã¨ã‚«ãƒƒã‚³ã‚ˆã‹ã‚ˆã€œ",
            "æ·±å‘¼å¸ã—ãŸã‚‰æ°—åˆ†å¤‰ã‚ã‚‹ã°ã„ã€‚",
            "è…°ã°ä¼¸ã°ã—ã¦ã‚¹ãƒƒã‚­ãƒªã›ã‚“ã­ï¼",
            "ç›®ã‚“ä¼‘ã¾ã›ã‚“ã¨ã€ç–²ã‚Œæºœã¾ã‚‹ã‘ã‚“ã­ã€‚",
            "èƒŒä¸­ã‚°ã‚¤ãƒƒã¨ä¼¸ã°ã—ãŸã‚‰å…ƒæ°—ã§ã‚‹ã°ã„ï¼",
            "ä¼‘æ†©ã‚‚å¤§äº‹ãªä»•äº‹ãŸã„ã€‚",
            "å§¿å‹¢ã®æŒ¯ã‚Šè¿”ã‚Šã—ã¦ã¿ãŸã‚‰ã€œï¼Ÿ",
            "ã‚¹ãƒˆãƒ¬ãƒƒãƒã—ãªã„ï¼Ÿ"
>>>>>>> e067c77b185c2668f220626a7e49861043775977
    ]
    
    // ã‚­ãƒ£ãƒ©ç”»åƒï¼ˆè¤‡æ•°ãƒ•ãƒ¬ãƒ¼ãƒ ã§ã‚¢ãƒ‹ãƒ¡ã£ã½ãï¼‰
    private let meerkatImages = ["MeerkatCloseMouse", "MeerkatOpMouse", "MeerkatUpArm"]
    @State private var currentImageIndex = 0
    
    // ã‚¿ã‚¤ãƒãƒ¼ã§è¡¨æƒ…ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
    let timer = Timer.publish(every: 1.0, on: .main, in: .common).autoconnect()

    var body: some View {
        VStack {
            Spacer()
            
            ZStack(alignment: .topTrailing) {
                // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
                Image(meerkatImages[currentImageIndex])
                    .resizable()
                    .scaledToFit()
                    .frame(height: 280)
                    .onReceive(timer) { _ in
                        currentImageIndex = (currentImageIndex + 1) % meerkatImages.count
                    }
                
                // å¹ãå‡ºã—
                BubbleView(message: message)
                    .frame(maxWidth: 260)
                    .offset(x: -20, y: -20)
            }
            
            Spacer()
            
            Button("ãŠã—ã‚ƒã¹ã‚Šã—ã¦ã‚‚ã‚‰ã†") {
                withAnimation {
                    message = messages.randomElement() ?? message
                }
            }
            .padding()
        }
    }
}
